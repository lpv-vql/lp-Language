# LP言語仕様
## 目次
* [出力](#出力)
* [変数](#変数)
* [リスト](#リスト)
    * [リストの操作](#リストの操作)
* [演算](#演算)
    * [演算子一覧](#演算子一覧)
    * [演算子の優先順位](#演算子の優先順位)
* [文字列操作](#文字列操作)
* [繰り返し](#繰り返し)
    * [for文](#for文)
    * [while文](#while文)

## 出力
まず、`Hello, world!`と出力してみましょう。
```
print "Hello, world!";

>>> Hello, world!
```
Perlとまったく同じですね。`print`で出力をします。

`"`で囲むことで`Hello, world!`は文字列になります。`'`は不可です。

`"`を外すとどうなるでしょうか。
```
print Hello, world!;

>>> Error
```
`Error`になってしまいます。これは`Hello`と`world!`という[変数](#変数)をつなげて出力するという意味になっており、その二つの変数はまだ宣言されていなかったので`Error`と出てしまいました。
```
print 1 + 2;

>>> 3
```
このように計算結果を出力することも可能です。詳しくは[演算](演算#)を見て下さい。

## 変数
変数を作ってみましょう。この言語は動的型付けなため、型宣言の必要はありません。
```
text = "abc"
```
`=`で左側の変数に右側のものを代入します。

変数名に` `(半角スペース)を含めることはできません。また、予約語の名前は使えません。

使うときはそのまま変数名を記述します。
```
text = "abc"
print text;

>>> abc
```
`+=`や`-=`など、[演算子](#演算)と`=`をくっつけることも可能です。
```
a = 1
a += 2
print a;

>>> 3
```
`a += 2`は`a = a + 2`を表しています。

## リスト
リストも変数と同じように作ることができます。
```
fruit = [apple, orange, banana]
```
`=`の後に`[ ]`で囲んでリストを定義します。`[ ]`の中は`,`で区切ります。

これでリストが宣言されました。

リストは次のように出力されます。
```
fruit = ["apple", "orange", "banana"]
print fruit;

>>> ["apple", "orange", "banana"]
```
リストには[範囲](#範囲)も入れることができます。
```
number = [10 ~ 20 .. 2]
print number;

>>> [10, 12, 14, 16, 18]
```
### リストの操作
この言語は様々なリストの操作をすることが可能です。

コード例に出てくる`list`はすべて以下の要素が入っていることとします。
```
list = ["A", "B", "C", "D", "E", "F", "G"]
```
#### 要素の取得
```
print list{5};

>>> F
```
リストの`5`番目の要素を取得します。

`{ }`の中には[範囲](#範囲)も入れることができます。
```
print list{2 ~ 4};

>>> ["C", "D"]
```
また、取り出すindexを複数指定することも可能です。
```
print list{0, 2, 5};

>>> ["A", "C", "F"]
```

#### 要素の追加
```
list += "H"
print list;

>>> ["A", "B", "C", "D", "E", "F", "G", "H"]
```
`+=`でリストの末尾に要素を追加します。

位置を指定して追加することもできます。つまり挿入です。
```
list.insert 1, "a";
print list;

>>> ["A", "a", "B", "C", "D", "E", "F", "G"]
```
左の挿入したい位置に、右のものを挿入します。

#### 要素の置換
```
list.replase "G", "g";
print list;

>>> ["A", "B", "C", "D", "E", "F", "g"]
```
左側のものを右側のものに置換します。同じ要素が複数ある場合は、すべて置換されます。

また、
```
list.replase # 6, "g";
print list;

>>> ["A", "B", "C", "D", "E", "F", "g"]
```
このようにすることで、左の位置のものを右のものに置換します。

#### 要素の削除
```
list.del 0;
print list;

>>> ["B", "C", "D", "E", "F", "G"]
```
指定した位置のものを削除します。

位置には[範囲](#範囲)も入れることができます。また、`list.del;`と入力することですべての要素を削除することができます。

さらに、
```
list -= "G"

>>> ["A", "B", "C", "D", "E", "F"]
```
このように記述することで、リストに含まれる特定の要素を削除することができます。

複数同じ要素がある場合もすべて削除されます。

#### 要素の場所
```
print list{# "C"};

>>> 2
```
[要素の取得](#要素の取得)の時に`{ }`の中の最初に`#`を入れると要素の場所を取得することができます。

同じ要素が複数ある場合は返り値が[リスト](#リスト)になります。

#### 要素が含まれるか
```
"A" in list
```
`in`で、要素がリストに含まれているかを調べることができます。

#### 要素の数
```
len[list]
```
リストに含まれる要素の数を調べることができます。

#### リストの結合
```
list_1 = ["A", "B", "C"]
list_2 = ["D", "E", "F"]

alphabet = list_1 + list_2
print alphabet;

>>> ["A", "B", "C", "D", "E", "F"]
```
`+`で、リストどうしを結合することができます。

## 演算
`1+1`は何でしょうか。答えは簡単ですね。~~田んぼの田です~~ 2です。

プログラムでもそのまま次のように記述します。
```
print 1 + 1;

>>> 2
```
`+`は皆さんおなじみ足し算の記号です。ほかにも様々な演算の記号(演算子という)があります。

また、演算子の前後の` `(半角スペース)は任意です。つまり、`1 + 1`と`1+1`では答えが変わらないということです。

### 演算子一覧
* 算術演算子(計算をするときに使う)
    * `3 + 1` 足し算
    * `6 - 2` 引き算
    * `1 * 4` 掛け算
    * `8 / 2` 割り算
    * `2 ^ 2` べき乗
    * `19 % 5` 余り
    * `9 // 2` 割り算の答えを切り捨て
* 比較演算子(2つの値を比較し、`true`または`false`を返す)
    * `"A" == "A"` 等しい
    * `"A" != "B"` 等しくない
    * `3 > 2` より大きい
    * `2 < 3` より小さい
    * `3 >= 2` 以上
    * `2 <= 3` 以下
* 論理演算子(複数の条件を組み合わせる)
    * `and` かつ
    * `or` または
    * `not` ではない
* 結合演算子(2つ以上の文字列を1つにつなぎ合わせる) <sub>なぜこんなにたくさんあるのでしょうか...</sub>
    * `"Hello, " + "world!"` 文字列の場合のみ結合
    * `"Hello, " , "world!"` `print`の中の場合のみ結合
    * `join["Hello, ", "world!"]` どんな型でも結合
    * `"Hello, " & "world!"` どんな型でも結合
* 代入演算子(変数などに値を代入する)
    * `=` 代入
    * `+=` `-=` `*=` `/=` `^=` `%=` `//=` `&=` 演算と代入を同時に行う

### 三項演算子
#### 条件演算子
```
条件 ? 真の式 :: 偽の式
```
条件演算子(三項演算子とも呼ばれる)とは、条件によって返す値を変えることができる演算子のことです。

これは[if文](#if文)を使って、次のように書き換えることが可能です。(この言語はすべてが式となっています。)
```
if 条件 : 真の式 else 偽の式 end;
```
例
```
score = 5
print score > 10 ? "合格" :: "不合格";

>>> 不合格

score = 15
print if score > 10 : "合格" else "不合格";;

>>> 合格
```
#### 範囲
```
初期値 ~ 終値 .. 加算値
```
これで範囲を指定することができます。
返り値は[リスト](#リスト)になります。
初期値、加算値は省略することができます。
```
print 0 ~ 10 .. 2;

>>> [0, 2, 4, 6, 8]

print 1 ~ 4;

>>> [1, 2, 3]

print ~ 5;

>>> [0, 1, 2, 3, 4]
```

### 演算子の優先順位
演算子には優先順位があります。

例えば、`1+2×3`では、まず`2×3`を先に計算してから、その答えに`1`を足します。つまり答えは`7`です。

また、`( )`をつけることで、計算順序を変えることができます。`(1+2)×3`の場合`1+2`が先に計算されるため、答えは`9`です。

このような演算子の優先順位はこの言語も同じです。(ほかの言語とは少々異なるので注意してください)
| 優先度 | 演算子 |
| ---: | ---- |
| 1 | `( )` `{ }` `[ ]` |
| 2 | `^` |
| 3 | `+` `-` 前置 |
| 4 | `*` `/` `%` `//` |
| 5 | `+` `-` | 
| 6 | `>` `<` `>=` `<=` `==` `!=` |
| 7 | `and` `or` `not` |
| 8 | `~ ..` |
| 9 | `? ::` |
| 10 | `=` `+=` `-=` `*=` `/=` `^=` `%=` `//=` `&=` |
| 11 | `,` |

















